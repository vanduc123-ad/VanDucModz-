-- Script D·ªãch Chuy·ªÉn Full Blox Fruits (VanDucModz)
-- T√°c gi·∫£: VanDucModz
-- Fix: Di chuy·ªÉn bay li√™n t·ª•c, kh√¥ng ƒë·ª©ng im, tr√°nh r·ªõt n∆∞·ªõc.

-- Load Rayfield UI
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "VanDucModz",
    LoadingTitle = "VanDucModz",
    LoadingSubtitle = "VanDucModz Gaming",
    KeySystem = false
})

-- Tabs
local TabTP = Window:CreateTab("üöÄ D·ªãch Chuy·ªÉn")

-- Bi·∫øn
local islandTarget = nil
local tpIslandOn = false
local tpBossOn = false
local tpEventOn = false
local bossTarget = nil
local eventTarget = nil

-- H√†m bay li√™n t·ª•c
local function moveTo(cf)
    local plr = game.Players.LocalPlayer
    if not plr.Character or not plr.Character:FindFirstChild("HumanoidRootPart") then return end
    local hrp = plr.Character.HumanoidRootPart
    -- Bay m∆∞·ª£t d·∫ßn ƒë·∫øn v·ªã tr√≠ (kh√¥ng gi·∫≠t, kh√¥ng r·ªõt n∆∞·ªõc)
    hrp.CFrame = hrp.CFrame:Lerp(cf, 0.1)
end

-------------------------------------------------
-- TP ƒê·∫¢O
-------------------------------------------------
local islands = {}
for _,v in pairs(game.Workspace._WorldOrigin.Locations:GetChildren()) do
    table.insert(islands, v.Name)
end

TabTP:CreateDropdown({
    Name = "üèùÔ∏è Ch·ªçn ƒê·∫£o",
    Options = islands,
    CurrentOption = "",
    Callback = function(opt)
        local islandObj = game.Workspace._WorldOrigin.Locations:FindFirstChild(opt)
        if islandObj then
            local cf = islandObj.CFrame or CFrame.new(islandObj.Position)
            islandTarget = cf + Vector3.new(0,80,0)
        end
    end
})

TabTP:CreateToggle({
    Name = "B·∫≠t/T·∫Øt TP ƒê·∫£o",
    CurrentValue = false,
    Callback = function(val)
        tpIslandOn = val
    end
})

-------------------------------------------------
-- TP BOSS (Sea 1/2/3)
-------------------------------------------------
local bossList = {
    ["Sea1"] = {"The Gorilla King", "Bobby", "Yeti", "Vice Admiral", "Warden", "Chief Warden", "Swan"},
    ["Sea2"] = {"Don Swan", "Smoky", "Cursed Captain", "Darkbeard", "Ice Admiral", "Diamond", "Jeremy"},
    ["Sea3"] = {"Stone", "Island Empress", "Kilo Admiral", "Captain Elephant", "Beautiful Pirate"}
}

local bossDropdown = TabTP:CreateDropdown({
    Name = "üêâ Ch·ªçn Boss",
    Options = bossList["Sea1"],
    CurrentOption = "",
    Callback = function(opt)
        local boss = workspace:FindFirstChild(opt, true)
        if boss and boss:FindFirstChild("HumanoidRootPart") then
            bossTarget = boss
        else
            bossTarget = nil
        end
    end
})

TabTP:CreateToggle({
    Name = "B·∫≠t/T·∫Øt TP Boss",
    CurrentValue = false,
    Callback = function(val)
        tpBossOn = val
    end
})

-------------------------------------------------
-- TP EVENT (Sea 1/2/3)
-------------------------------------------------
local eventList = {
    ["Sea1"] = {"Factory Raid"},
    ["Sea2"] = {"Pirate Raid", "Ship Raid"},
    ["Sea3"] = {"Cake Prince", "Dough King"}
}

local eventDropdown = TabTP:CreateDropdown({
    Name = "üéâ Ch·ªçn Event",
    Options = eventList["Sea1"],
    CurrentOption = "",
    Callback = function(opt)
        local ev = workspace:FindFirstChild(opt, true)
        if ev and ev:IsA("Model") and ev.PrimaryPart then
            eventTarget = ev
        else
            eventTarget = nil
        end
    end
})

TabTP:CreateToggle({
    Name = "B·∫≠t/T·∫Øt TP Event",
    CurrentValue = false,
    Callback = function(val)
        tpEventOn = val
    end
})

-------------------------------------------------
-- V√≤ng l·∫∑p ch√≠nh: bay li√™n t·ª•c
-------------------------------------------------
task.spawn(function()
    while task.wait(0.1) do
        -- TP ƒê·∫£o
        if tpIslandOn and islandTarget then
            moveTo(islandTarget)
        end

        -- TP Boss
        if tpBossOn and bossTarget and bossTarget:FindFirstChild("HumanoidRootPart") then
            local cf = bossTarget.HumanoidRootPart.CFrame * CFrame.new(0,10,10)
            moveTo(cf)
        end

        -- TP Event
        if tpEventOn and eventTarget and eventTarget.PrimaryPart then
            moveTo(eventTarget.PrimaryPart.CFrame + Vector3.new(0,10,0))
        end
    end
end)
